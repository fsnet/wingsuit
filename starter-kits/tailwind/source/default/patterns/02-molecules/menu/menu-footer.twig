{#
  Attributes
#}
{% set root_list_attributes = create_attribute().addClass(pattern_configuration('menu', variant, 'root')['list_classes']) %}
{% set root_list_item_attributes = create_attribute().addClass(pattern_configuration('menu', variant, 'root')['list_item_classes']) %}
{% set root_link_attributes = create_attribute().addClass(pattern_configuration('menu', variant, 'root')['link_classes']) %}
{% set ancestor_list_attributes = create_attribute().addClass(pattern_configuration('menu', variant, 'ancestors')['list_classes']) %}
{% set ancestor_list_item_attributes = create_attribute().addClass(pattern_configuration('menu', variant, 'ancestors')['list_item_classes']) %}
{% set ancestor_link_attributes = create_attribute().addClass(pattern_configuration('menu', variant, 'ancestors')['link_classes']) %}

{#
  Template
#}
{% set cells = [] %}
{% for item in items %}
  {% set cell %}
    <ul role="menu" {{ root_list_attributes }}>
      <li role="none" {{ root_list_item_attributes }}>
        {# -- Main parent item w/o link  -- #}
        <a href="#" {{ root_link_attributes }}>
          {{ item.title }}
        </a>
        {# -- Child items -- #}
        {% if item.below %}
          <ul role="menu" {{ ancestor_list_attributes }}>
            {% for child in item.below %}
              <li role="none" {{ ancestor_list_item_attributes }}>
                <a href="{{ child.url }}" {{ ancestor_link_attributes }}>
                  {{ child.title }}
                </a>
              </li>
            {% endfor %}
          </ul>
        {% endif %}
      </li>
    </ul>
  {% endset %}
  {% set cells = cells|merge([cell]) %}
{% endfor %}
<nav aria-label="footer">
  {{ pattern('grid', {cells:cells, columns: cells|length, columns_width_4: '1/4', gutter: 'default' }, null ) }}
</nav>
