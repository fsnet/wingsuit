{#
Classes
#}
{% set class_names = [
  'parent_list',
  'parent_link',
  'child_list',
  'child_link'
] %}

{% set classes = {} %}
{% for class_name in class_names %}
  {% set class = pattern_configuration('menu', variant, class_name) %}
  {% if class %}
    {% set classes = classes|merge({(class_name ~ '_classes'): class}) %}
  {% endif %}
{% endfor %}

{#
Template
#}
{% set cells = [] %}
{% for item in items %}
  {% set cell %}
    <ul role="menu" {{ classes.parent_list_classes is not empty ? "class=#{classes.parent_list_classes}" }}>
      <li role="none">

        {# -- Main parent item w/o link  -- #}
        <a href="#" {{ classes.parent_link_classes is not empty ? "class='#{classes.parent_link_classes}'" }}>
          {{ item.title }}
        </a>

        {# -- Child items -- #}
        {% if item.below %}
          <ul role="menu" {{ classes.child_list_classes is not empty ? "class='#{classes.child_list_classes}'" }}>
            {% for child in item.below %}
              <li role="none">
                <a href="{{ child.url }}" {{ classes.child_link_classes is not empty ? "class='#{classes.child_link_classes}'" }}>
                  {{ child.title }}
                </a>
              </li>
            {% endfor %}
          </ul>
        {% endif %}
      </li>
    </ul>
  {% endset %}

  {% set cells = cells|merge([cell]) %}
{% endfor %}

<nav aria-label="footer">
  {{ pattern('grid', {cells:cells, columns: cells|length, gutter: 'default' }, null ) }}
</nav>
